{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":39,"index":97}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.listEntity = listEntity;\n  Object.defineProperty(exports, \"base44\", {\n    enumerable: true,\n    get: function () {\n      return base44;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var extra = Constants.default.expoConfig?.extra || {};\n  var BASE44_API_URL = extra.base44ApiUrl;\n  var BASE44_APP_ID = extra.base44AppId;\n  var BASE44_API_KEY = extra.base44ApiKey;\n  if (!BASE44_API_URL || !BASE44_APP_ID) {\n    // eslint-disable-next-line no-console\n    console.warn('[Base44] Missing config. Check app.json -> expo.extra.base44ApiUrl / base44AppId');\n  }\n  function makeClient(apiUrl) {\n    return axios.default.create({\n      baseURL: BASE44_APP_ID ? `${apiUrl.replace(/\\/$/, '')}/${BASE44_APP_ID}` : undefined,\n      timeout: 20000,\n      headers: {\n        ...(BASE44_API_KEY ? {\n          // Different Base44 deployments have used different auth styles.\n          // We send both so we don't depend on guessing the right one.\n          Authorization: `Bearer ${BASE44_API_KEY}`,\n          'x-api-key': BASE44_API_KEY\n        } : {}),\n        Accept: 'application/json'\n      }\n    });\n  }\n  function buildCandidateUrls() {\n    var urls = [];\n    if (BASE44_API_URL) urls.push(BASE44_API_URL);\n\n    // Add the \"other\" common Base44 API format as a fallback.\n    // - Some apps use: https://app.base44.com/api/apps\n    // - Others use:    https://api.base44.com/v1/apps\n    if (BASE44_API_URL?.includes('app.base44.com')) {\n      urls.push('https://api.base44.com/v1/apps');\n    } else if (BASE44_API_URL?.includes('api.base44.com')) {\n      urls.push('https://app.base44.com/api/apps');\n    } else {\n      // If the value is weird/missing, still try both known defaults.\n      urls.push('https://api.base44.com/v1/apps');\n      urls.push('https://app.base44.com/api/apps');\n    }\n\n    // De-dup while preserving order.\n    return Array.from(new Set(urls.map(u => u.replace(/\\/$/, ''))));\n  }\n  function pickListPayload(payload) {\n    if (!payload) return [];\n    if (Array.isArray(payload)) return payload;\n    if (Array.isArray(payload.items)) return payload.items;\n    if (Array.isArray(payload.data)) return payload.data;\n    if (payload.data && Array.isArray(payload.data.items)) return payload.data.items;\n    if (payload.records && Array.isArray(payload.records)) return payload.records;\n    return [];\n  }\n  function shouldRetryOn(error) {\n    var err = error;\n    var status = err?.response?.status;\n    // If we hit the wrong base URL, Base44 usually returns 404.\n    // If auth style doesn't match, it can return 401/403.\n    return status === 404 || status === 401 || status === 403;\n  }\n  function listEntity(_x) {\n    return _listEntity.apply(this, arguments);\n  } // Backward-compat export: some screens import { base44 } directly.\n  function _listEntity() {\n    _listEntity = (0, _asyncToGenerator.default)(function* (entityName) {\n      var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n      var candidates = buildCandidateUrls();\n      var lastError = null;\n      for (var apiUrl of candidates) {\n        try {\n          var client = makeClient(apiUrl);\n          var res = yield client.get(`/entities/${encodeURIComponent(entityName)}?limit=${limit}`);\n          return pickListPayload(res.data);\n        } catch (e) {\n          lastError = e;\n          if (!shouldRetryOn(e)) break;\n        }\n      }\n      throw lastError;\n    });\n    return _listEntity.apply(this, arguments);\n  }\n  var base44 = makeClient(buildCandidateUrls()[0] || 'https://api.base44.com/v1/apps');\n});","lineCount":107,"map":[[12,2,78,0,"exports"],[12,9,78,0],[12,10,78,0,"listEntity"],[12,20,78,0],[12,23,78,0,"listEntity"],[12,33,78,0],[13,2,97,0,"Object"],[13,8,97,0],[13,9,97,0,"defineProperty"],[13,23,97,0],[13,24,97,0,"exports"],[13,31,97,0],[14,4,97,0,"enumerable"],[14,14,97,0],[15,4,97,0,"get"],[15,7,97,0],[15,18,97,0,"get"],[15,19,97,0],[16,6,97,0],[16,13,97,0,"base44"],[16,19,97,0],[17,4,97,0],[18,2,97,0],[19,2,97,94],[19,6,97,94,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,97,94],[19,45,97,94,"require"],[19,52,97,94],[19,53,97,94,"_dependencyMap"],[19,67,97,94],[20,2,97,94],[20,6,97,94,"_asyncToGenerator"],[20,23,97,94],[20,26,97,94,"_interopDefault"],[20,41,97,94],[20,42,97,94,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,97,94],[21,2,1,0],[21,6,1,0,"_axios"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,1,0],[22,6,1,0,"axios"],[22,11,1,0],[22,14,1,0,"_interopDefault"],[22,29,1,0],[22,30,1,0,"_axios"],[22,36,1,0],[23,2,2,0],[23,6,2,0,"_expoConstants"],[23,20,2,0],[23,23,2,0,"require"],[23,30,2,0],[23,31,2,0,"_dependencyMap"],[23,45,2,0],[24,2,2,0],[24,6,2,0,"Constants"],[24,15,2,0],[24,18,2,0,"_interopDefault"],[24,33,2,0],[24,34,2,0,"_expoConstants"],[24,48,2,0],[25,2,10,0],[25,6,10,6,"extra"],[25,11,10,11],[25,14,10,15,"Constants"],[25,23,10,24],[25,24,10,24,"default"],[25,31,10,24],[25,32,10,25,"expoConfig"],[25,42,10,35],[25,44,10,37,"extra"],[25,49,10,42],[25,53,10,46],[25,54,10,47],[25,55,10,58],[26,2,12,0],[26,6,12,6,"BASE44_API_URL"],[26,20,12,20],[26,23,12,23,"extra"],[26,28,12,28],[26,29,12,29,"base44ApiUrl"],[26,41,12,41],[27,2,13,0],[27,6,13,6,"BASE44_APP_ID"],[27,19,13,19],[27,22,13,22,"extra"],[27,27,13,27],[27,28,13,28,"base44AppId"],[27,39,13,39],[28,2,14,0],[28,6,14,6,"BASE44_API_KEY"],[28,20,14,20],[28,23,14,23,"extra"],[28,28,14,28],[28,29,14,29,"base44ApiKey"],[28,41,14,41],[29,2,16,0],[29,6,16,4],[29,7,16,5,"BASE44_API_URL"],[29,21,16,19],[29,25,16,23],[29,26,16,24,"BASE44_APP_ID"],[29,39,16,37],[29,41,16,39],[30,4,17,2],[31,4,18,2,"console"],[31,11,18,9],[31,12,18,10,"warn"],[31,16,18,14],[31,17,18,15],[31,99,18,97],[31,100,18,98],[32,2,19,0],[33,2,21,0],[33,11,21,9,"makeClient"],[33,21,21,19,"makeClient"],[33,22,21,20,"apiUrl"],[33,28,21,34],[33,30,21,51],[34,4,22,2],[34,11,22,9,"axios"],[34,16,22,14],[34,17,22,14,"default"],[34,24,22,14],[34,25,22,15,"create"],[34,31,22,21],[34,32,22,22],[35,6,23,4,"baseURL"],[35,13,23,11],[35,15,23,13,"BASE44_APP_ID"],[35,28,23,26],[35,31,23,29],[35,34,23,32,"apiUrl"],[35,40,23,38],[35,41,23,39,"replace"],[35,48,23,46],[35,49,23,47],[35,54,23,52],[35,56,23,54],[35,58,23,56],[35,59,23,57],[35,63,23,61,"BASE44_APP_ID"],[35,76,23,74],[35,78,23,76],[35,81,23,79,"undefined"],[35,90,23,88],[36,6,24,4,"timeout"],[36,13,24,11],[36,15,24,13],[36,20,24,18],[37,6,25,4,"headers"],[37,13,25,11],[37,15,25,13],[38,8,26,6],[38,12,26,10,"BASE44_API_KEY"],[38,26,26,24],[38,29,27,10],[39,10,28,12],[40,10,29,12],[41,10,30,12,"Authorization"],[41,23,30,25],[41,25,30,27],[41,35,30,37,"BASE44_API_KEY"],[41,49,30,51],[41,51,30,53],[42,10,31,12],[42,21,31,23],[42,23,31,25,"BASE44_API_KEY"],[43,8,32,10],[43,9,32,11],[43,12,33,10],[43,13,33,11],[43,14,33,12],[43,15,33,13],[44,8,34,6,"Accept"],[44,14,34,12],[44,16,34,14],[45,6,35,4],[46,4,36,2],[46,5,36,3],[46,6,36,4],[47,2,37,0],[48,2,39,0],[48,11,39,9,"buildCandidateUrls"],[48,29,39,27,"buildCandidateUrls"],[48,30,39,27],[48,32,39,40],[49,4,40,2],[49,8,40,8,"urls"],[49,12,40,22],[49,15,40,25],[49,17,40,27],[50,4,41,2],[50,8,41,6,"BASE44_API_URL"],[50,22,41,20],[50,24,41,22,"urls"],[50,28,41,26],[50,29,41,27,"push"],[50,33,41,31],[50,34,41,32,"BASE44_API_URL"],[50,48,41,46],[50,49,41,47],[52,4,43,2],[53,4,44,2],[54,4,45,2],[55,4,46,2],[55,8,46,6,"BASE44_API_URL"],[55,22,46,20],[55,24,46,22,"includes"],[55,32,46,30],[55,33,46,31],[55,49,46,47],[55,50,46,48],[55,52,46,50],[56,6,47,4,"urls"],[56,10,47,8],[56,11,47,9,"push"],[56,15,47,13],[56,16,47,14],[56,48,47,46],[56,49,47,47],[57,4,48,2],[57,5,48,3],[57,11,48,9],[57,15,48,13,"BASE44_API_URL"],[57,29,48,27],[57,31,48,29,"includes"],[57,39,48,37],[57,40,48,38],[57,56,48,54],[57,57,48,55],[57,59,48,57],[58,6,49,4,"urls"],[58,10,49,8],[58,11,49,9,"push"],[58,15,49,13],[58,16,49,14],[58,49,49,47],[58,50,49,48],[59,4,50,2],[59,5,50,3],[59,11,50,9],[60,6,51,4],[61,6,52,4,"urls"],[61,10,52,8],[61,11,52,9,"push"],[61,15,52,13],[61,16,52,14],[61,48,52,46],[61,49,52,47],[62,6,53,4,"urls"],[62,10,53,8],[62,11,53,9,"push"],[62,15,53,13],[62,16,53,14],[62,49,53,47],[62,50,53,48],[63,4,54,2],[65,4,56,2],[66,4,57,2],[66,11,57,9,"Array"],[66,16,57,14],[66,17,57,15,"from"],[66,21,57,19],[66,22,57,20],[66,26,57,24,"Set"],[66,29,57,27],[66,30,57,28,"urls"],[66,34,57,32],[66,35,57,33,"map"],[66,38,57,36],[66,39,57,38,"u"],[66,40,57,39],[66,44,57,44,"u"],[66,45,57,45],[66,46,57,46,"replace"],[66,53,57,53],[66,54,57,54],[66,59,57,59],[66,61,57,61],[66,63,57,63],[66,64,57,64],[66,65,57,65],[66,66,57,66],[66,67,57,67],[67,2,58,0],[68,2,60,0],[68,11,60,9,"pickListPayload"],[68,26,60,24,"pickListPayload"],[68,27,60,25,"payload"],[68,34,60,37],[68,36,60,46],[69,4,61,2],[69,8,61,6],[69,9,61,7,"payload"],[69,16,61,14],[69,18,61,16],[69,25,61,23],[69,27,61,25],[70,4,62,2],[70,8,62,6,"Array"],[70,13,62,11],[70,14,62,12,"isArray"],[70,21,62,19],[70,22,62,20,"payload"],[70,29,62,27],[70,30,62,28],[70,32,62,30],[70,39,62,37,"payload"],[70,46,62,44],[71,4,63,2],[71,8,63,6,"Array"],[71,13,63,11],[71,14,63,12,"isArray"],[71,21,63,19],[71,22,63,20,"payload"],[71,29,63,27],[71,30,63,28,"items"],[71,35,63,33],[71,36,63,34],[71,38,63,36],[71,45,63,43,"payload"],[71,52,63,50],[71,53,63,51,"items"],[71,58,63,56],[72,4,64,2],[72,8,64,6,"Array"],[72,13,64,11],[72,14,64,12,"isArray"],[72,21,64,19],[72,22,64,20,"payload"],[72,29,64,27],[72,30,64,28,"data"],[72,34,64,32],[72,35,64,33],[72,37,64,35],[72,44,64,42,"payload"],[72,51,64,49],[72,52,64,50,"data"],[72,56,64,54],[73,4,65,2],[73,8,65,6,"payload"],[73,15,65,13],[73,16,65,14,"data"],[73,20,65,18],[73,24,65,22,"Array"],[73,29,65,27],[73,30,65,28,"isArray"],[73,37,65,35],[73,38,65,36,"payload"],[73,45,65,43],[73,46,65,44,"data"],[73,50,65,48],[73,51,65,49,"items"],[73,56,65,54],[73,57,65,55],[73,59,65,57],[73,66,65,64,"payload"],[73,73,65,71],[73,74,65,72,"data"],[73,78,65,76],[73,79,65,77,"items"],[73,84,65,82],[74,4,66,2],[74,8,66,6,"payload"],[74,15,66,13],[74,16,66,14,"records"],[74,23,66,21],[74,27,66,25,"Array"],[74,32,66,30],[74,33,66,31,"isArray"],[74,40,66,38],[74,41,66,39,"payload"],[74,48,66,46],[74,49,66,47,"records"],[74,56,66,54],[74,57,66,55],[74,59,66,57],[74,66,66,64,"payload"],[74,73,66,71],[74,74,66,72,"records"],[74,81,66,79],[75,4,67,2],[75,11,67,9],[75,13,67,11],[76,2,68,0],[77,2,70,0],[77,11,70,9,"shouldRetryOn"],[77,24,70,22,"shouldRetryOn"],[77,25,70,23,"error"],[77,30,70,37],[77,32,70,48],[78,4,71,2],[78,8,71,8,"err"],[78,11,71,11],[78,14,71,14,"error"],[78,19,71,38],[79,4,72,2],[79,8,72,8,"status"],[79,14,72,14],[79,17,72,17,"err"],[79,20,72,20],[79,22,72,22,"response"],[79,30,72,30],[79,32,72,32,"status"],[79,38,72,38],[80,4,73,2],[81,4,74,2],[82,4,75,2],[82,11,75,9,"status"],[82,17,75,15],[82,22,75,20],[82,25,75,23],[82,29,75,27,"status"],[82,35,75,33],[82,40,75,38],[82,43,75,41],[82,47,75,45,"status"],[82,53,75,51],[82,58,75,56],[82,61,75,59],[83,2,76,0],[84,2,76,1],[84,11,78,22,"listEntity"],[84,21,78,32,"listEntity"],[84,22,78,32,"_x"],[84,24,78,32],[85,4,78,32],[85,11,78,32,"_listEntity"],[85,22,78,32],[85,23,78,32,"apply"],[85,28,78,32],[85,35,78,32,"arguments"],[85,44,78,32],[86,2,78,32],[86,4,96,0],[87,2,96,0],[87,11,96,0,"_listEntity"],[87,23,96,0],[88,4,96,0,"_listEntity"],[88,15,96,0],[88,22,96,0,"_asyncToGenerator"],[88,39,96,0],[88,40,96,0,"default"],[88,47,96,0],[88,49,78,7],[88,60,78,33,"entityName"],[88,70,78,51],[88,72,78,82],[89,6,78,82],[89,10,78,53,"limit"],[89,15,78,58],[89,18,78,58,"arguments"],[89,27,78,58],[89,28,78,58,"length"],[89,34,78,58],[89,42,78,58,"arguments"],[89,51,78,58],[89,59,78,58,"undefined"],[89,68,78,58],[89,71,78,58,"arguments"],[89,80,78,58],[89,86,78,61],[89,89,78,64],[90,6,79,2],[90,10,79,8,"candidates"],[90,20,79,18],[90,23,79,21,"buildCandidateUrls"],[90,41,79,39],[90,42,79,40],[90,43,79,41],[91,6,81,2],[91,10,81,6,"lastError"],[91,19,81,24],[91,22,81,27],[91,26,81,31],[92,6,82,2],[92,11,82,7],[92,15,82,13,"apiUrl"],[92,21,82,19],[92,25,82,23,"candidates"],[92,35,82,33],[92,37,82,35],[93,8,83,4],[93,12,83,8],[94,10,84,6],[94,14,84,12,"client"],[94,20,84,18],[94,23,84,21,"makeClient"],[94,33,84,31],[94,34,84,32,"apiUrl"],[94,40,84,38],[94,41,84,39],[95,10,85,6],[95,14,85,12,"res"],[95,17,85,15],[95,26,85,24,"client"],[95,32,85,30],[95,33,85,31,"get"],[95,36,85,34],[95,37,85,35],[95,50,85,48,"encodeURIComponent"],[95,68,85,66],[95,69,85,67,"entityName"],[95,79,85,77],[95,80,85,78],[95,90,85,88,"limit"],[95,95,85,93],[95,97,85,95],[95,98,85,96],[96,10,86,6],[96,17,86,13,"pickListPayload"],[96,32,86,28],[96,33,86,29,"res"],[96,36,86,32],[96,37,86,33,"data"],[96,41,86,37],[96,42,86,38],[97,8,87,4],[97,9,87,5],[97,10,87,6],[97,17,87,13,"e"],[97,18,87,14],[97,20,87,16],[98,10,88,6,"lastError"],[98,19,88,15],[98,22,88,18,"e"],[98,23,88,19],[99,10,89,6],[99,14,89,10],[99,15,89,11,"shouldRetryOn"],[99,28,89,24],[99,29,89,25,"e"],[99,30,89,26],[99,31,89,27],[99,33,89,29],[100,8,90,4],[101,6,91,2],[102,6,93,2],[102,12,93,8,"lastError"],[102,21,93,17],[103,4,94,0],[103,5,94,1],[104,4,94,1],[104,11,94,1,"_listEntity"],[104,22,94,1],[104,23,94,1,"apply"],[104,28,94,1],[104,35,94,1,"arguments"],[104,44,94,1],[105,2,94,1],[106,2,97,7],[106,6,97,13,"base44"],[106,12,97,19],[106,15,97,22,"makeClient"],[106,25,97,32],[106,26,97,33,"buildCandidateUrls"],[106,44,97,51],[106,45,97,52],[106,46,97,53],[106,47,97,54],[106,48,97,55],[106,49,97,56],[106,53,97,60],[106,85,97,92],[106,86,97,93],[107,0,97,94],[107,3]],"functionMap":{"names":["<global>","makeClient","buildCandidateUrls","urls.map$argument_0","pickListPayload","shouldRetryOn","listEntity"],"mappings":"AAA;ACoB;CDgB;AEE;qCCkB,2BD;CFC;AIE;CJQ;AKE;CLM;OME;CNgB"},"hasCjsExports":false},"type":"js/module"}]}