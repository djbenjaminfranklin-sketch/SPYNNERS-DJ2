{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":40,"index":101}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-media-library","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":41,"column":22,"index":1143},"end":{"line":41,"column":51,"index":1172}}],"key":"W9rw6WiUELK9ceYsXrdQKq6919g=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"getMediaLibrary\", {\n    enumerable: true,\n    get: function () {\n      return getMediaLibrary;\n    }\n  });\n  Object.defineProperty(exports, \"isMediaLibraryAvailable\", {\n    enumerable: true,\n    get: function () {\n      return isMediaLibraryAvailable;\n    }\n  });\n  Object.defineProperty(exports, \"requestMediaPermissions\", {\n    enumerable: true,\n    get: function () {\n      return requestMediaPermissions;\n    }\n  });\n  Object.defineProperty(exports, \"saveToMediaLibrary\", {\n    enumerable: true,\n    get: function () {\n      return saveToMediaLibrary;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  // Media Library wrapper that only loads on native platforms\n\n  // Type declarations\n\n  // Lazy load MediaLibrary only on native\n  var _mediaLibrary = null;\n  var getMediaLibrary = () => {\n    if (_reactNative.Platform.OS === 'web') {\n      return null;\n    }\n    if (!_mediaLibrary) {\n      try {\n        _mediaLibrary = require(_dependencyMap[2], \"expo-media-library\");\n      } catch (e) {\n        console.warn('expo-media-library not available');\n        return null;\n      }\n    }\n    return _mediaLibrary;\n  };\n  var isMediaLibraryAvailable = () => {\n    return _reactNative.Platform.OS !== 'web' && getMediaLibrary() !== null;\n  };\n\n  // Helper functions\n  var requestMediaPermissions = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* () {\n      var lib = getMediaLibrary();\n      if (!lib) return false;\n      try {\n        var _yield$lib$requestPer = yield lib.requestPermissionsAsync(),\n          status = _yield$lib$requestPer.status;\n        return status === 'granted';\n      } catch {\n        return false;\n      }\n    });\n    return function requestMediaPermissions() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var saveToMediaLibrary = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* (uri) {\n      var albumName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'SPYNNERS';\n      var lib = getMediaLibrary();\n      if (!lib) return false;\n      try {\n        var hasPermission = yield requestMediaPermissions();\n        if (!hasPermission) return false;\n        var asset = yield lib.createAssetAsync(uri);\n        var albums = yield lib.getAlbumsAsync();\n        var album = albums.find(a => a.title === albumName);\n        if (!album) {\n          album = yield lib.createAlbumAsync(albumName, asset, false);\n        } else {\n          yield lib.addAssetsToAlbumAsync([asset], album, false);\n        }\n        return true;\n      } catch (e) {\n        console.error('Save to media library failed:', e);\n        return false;\n      }\n    });\n    return function saveToMediaLibrary(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n});","lineCount":106,"map":[[12,2,34,0,"Object"],[12,8,34,0],[12,9,34,0,"defineProperty"],[12,23,34,0],[12,24,34,0,"exports"],[12,31,34,0],[13,4,34,0,"enumerable"],[13,14,34,0],[14,4,34,0,"get"],[14,7,34,0],[14,18,34,0,"get"],[14,19,34,0],[15,6,34,0],[15,13,34,0,"getMediaLibrary"],[15,28,34,0],[16,4,34,0],[17,2,34,0],[18,2,51,0,"Object"],[18,8,51,0],[18,9,51,0,"defineProperty"],[18,23,51,0],[18,24,51,0,"exports"],[18,31,51,0],[19,4,51,0,"enumerable"],[19,14,51,0],[20,4,51,0,"get"],[20,7,51,0],[20,18,51,0,"get"],[20,19,51,0],[21,6,51,0],[21,13,51,0,"isMediaLibraryAvailable"],[21,36,51,0],[22,4,51,0],[23,2,51,0],[24,2,56,0,"Object"],[24,8,56,0],[24,9,56,0,"defineProperty"],[24,23,56,0],[24,24,56,0,"exports"],[24,31,56,0],[25,4,56,0,"enumerable"],[25,14,56,0],[26,4,56,0,"get"],[26,7,56,0],[26,18,56,0,"get"],[26,19,56,0],[27,6,56,0],[27,13,56,0,"requestMediaPermissions"],[27,36,56,0],[28,4,56,0],[29,2,56,0],[30,2,68,0,"Object"],[30,8,68,0],[30,9,68,0,"defineProperty"],[30,23,68,0],[30,24,68,0,"exports"],[30,31,68,0],[31,4,68,0,"enumerable"],[31,14,68,0],[32,4,68,0,"get"],[32,7,68,0],[32,18,68,0,"get"],[32,19,68,0],[33,6,68,0],[33,13,68,0,"saveToMediaLibrary"],[33,31,68,0],[34,4,68,0],[35,2,68,0],[36,2,94,2],[36,6,94,2,"_babelRuntimeHelpersAsyncToGenerator"],[36,42,94,2],[36,45,94,2,"require"],[36,52,94,2],[36,53,94,2,"_dependencyMap"],[36,67,94,2],[37,2,94,2],[37,6,94,2,"_asyncToGenerator"],[37,23,94,2],[37,26,94,2,"_interopDefault"],[37,41,94,2],[37,42,94,2,"_babelRuntimeHelpersAsyncToGenerator"],[37,78,94,2],[38,2,2,0],[38,6,2,0,"_reactNative"],[38,18,2,0],[38,21,2,0,"require"],[38,28,2,0],[38,29,2,0,"_dependencyMap"],[38,43,2,0],[39,2,1,0],[41,2,4,0],[43,2,31,0],[44,2,32,0],[44,6,32,4,"_mediaLibrary"],[44,19,32,44],[44,22,32,47],[44,26,32,51],[45,2,34,7],[45,6,34,13,"getMediaLibrary"],[45,21,34,28],[45,24,34,31,"getMediaLibrary"],[45,25,34,31],[45,30,34,64],[46,4,35,2],[46,8,35,6,"Platform"],[46,20,35,14],[46,21,35,14,"Platform"],[46,29,35,14],[46,30,35,15,"OS"],[46,32,35,17],[46,37,35,22],[46,42,35,27],[46,44,35,29],[47,6,36,4],[47,13,36,11],[47,17,36,15],[48,4,37,2],[49,4,39,2],[49,8,39,6],[49,9,39,7,"_mediaLibrary"],[49,22,39,20],[49,24,39,22],[50,6,40,4],[50,10,40,8],[51,8,41,6,"_mediaLibrary"],[51,21,41,19],[51,24,41,22,"require"],[51,31,41,29],[51,32,41,29,"_dependencyMap"],[51,46,41,29],[51,71,41,50],[51,72,41,73],[52,6,42,4],[52,7,42,5],[52,8,42,6],[52,15,42,13,"e"],[52,16,42,14],[52,18,42,16],[53,8,43,6,"console"],[53,15,43,13],[53,16,43,14,"warn"],[53,20,43,18],[53,21,43,19],[53,55,43,53],[53,56,43,54],[54,8,44,6],[54,15,44,13],[54,19,44,17],[55,6,45,4],[56,4,46,2],[57,4,48,2],[57,11,48,9,"_mediaLibrary"],[57,24,48,22],[58,2,49,0],[58,3,49,1],[59,2,51,7],[59,6,51,13,"isMediaLibraryAvailable"],[59,29,51,36],[59,32,51,39,"isMediaLibraryAvailable"],[59,33,51,39],[59,38,51,54],[60,4,52,2],[60,11,52,9,"Platform"],[60,23,52,17],[60,24,52,17,"Platform"],[60,32,52,17],[60,33,52,18,"OS"],[60,35,52,20],[60,40,52,25],[60,45,52,30],[60,49,52,34,"getMediaLibrary"],[60,64,52,49],[60,65,52,50],[60,66,52,51],[60,71,52,56],[60,75,52,60],[61,2,53,0],[61,3,53,1],[63,2,55,0],[64,2,56,7],[64,6,56,13,"requestMediaPermissions"],[64,29,56,36],[65,4,56,36],[65,8,56,36,"_ref"],[65,12,56,36],[65,19,56,36,"_asyncToGenerator"],[65,36,56,36],[65,37,56,36,"default"],[65,44,56,36],[65,46,56,39],[65,59,56,69],[66,6,57,2],[66,10,57,8,"lib"],[66,13,57,11],[66,16,57,14,"getMediaLibrary"],[66,31,57,29],[66,32,57,30],[66,33,57,31],[67,6,58,2],[67,10,58,6],[67,11,58,7,"lib"],[67,14,58,10],[67,16,58,12],[67,23,58,19],[67,28,58,24],[68,6,60,2],[68,10,60,6],[69,8,61,4],[69,12,61,4,"_yield$lib$requestPer"],[69,33,61,4],[69,42,61,29,"lib"],[69,45,61,32],[69,46,61,33,"requestPermissionsAsync"],[69,69,61,56],[69,70,61,57],[69,71,61,58],[70,10,61,12,"status"],[70,16,61,18],[70,19,61,18,"_yield$lib$requestPer"],[70,40,61,18],[70,41,61,12,"status"],[70,47,61,18],[71,8,62,4],[71,15,62,11,"status"],[71,21,62,17],[71,26,62,22],[71,35,62,31],[72,6,63,2],[72,7,63,3],[72,8,63,4],[72,14,63,10],[73,8,64,4],[73,15,64,11],[73,20,64,16],[74,6,65,2],[75,4,66,0],[75,5,66,1],[76,4,66,1],[76,20,56,13,"requestMediaPermissions"],[76,43,56,36,"requestMediaPermissions"],[76,44,56,36],[77,6,56,36],[77,13,56,36,"_ref"],[77,17,56,36],[77,18,56,36,"apply"],[77,23,56,36],[77,30,56,36,"arguments"],[77,39,56,36],[78,4,56,36],[79,2,56,36],[79,5,66,1],[80,2,68,7],[80,6,68,13,"saveToMediaLibrary"],[80,24,68,31],[81,4,68,31],[81,8,68,31,"_ref2"],[81,13,68,31],[81,20,68,31,"_asyncToGenerator"],[81,37,68,31],[81,38,68,31,"default"],[81,45,68,31],[81,47,68,34],[81,58,69,2,"uri"],[81,61,69,13],[81,63,71,23],[82,6,71,23],[82,10,70,2,"albumName"],[82,19,70,19],[82,22,70,19,"arguments"],[82,31,70,19],[82,32,70,19,"length"],[82,38,70,19],[82,46,70,19,"arguments"],[82,55,70,19],[82,63,70,19,"undefined"],[82,72,70,19],[82,75,70,19,"arguments"],[82,84,70,19],[82,90,70,22],[82,100,70,32],[83,6,72,2],[83,10,72,8,"lib"],[83,13,72,11],[83,16,72,14,"getMediaLibrary"],[83,31,72,29],[83,32,72,30],[83,33,72,31],[84,6,73,2],[84,10,73,6],[84,11,73,7,"lib"],[84,14,73,10],[84,16,73,12],[84,23,73,19],[84,28,73,24],[85,6,75,2],[85,10,75,6],[86,8,76,4],[86,12,76,10,"hasPermission"],[86,25,76,23],[86,34,76,32,"requestMediaPermissions"],[86,57,76,55],[86,58,76,56],[86,59,76,57],[87,8,77,4],[87,12,77,8],[87,13,77,9,"hasPermission"],[87,26,77,22],[87,28,77,24],[87,35,77,31],[87,40,77,36],[88,8,79,4],[88,12,79,10,"asset"],[88,17,79,15],[88,26,79,24,"lib"],[88,29,79,27],[88,30,79,28,"createAssetAsync"],[88,46,79,44],[88,47,79,45,"uri"],[88,50,79,48],[88,51,79,49],[89,8,80,4],[89,12,80,10,"albums"],[89,18,80,16],[89,27,80,25,"lib"],[89,30,80,28],[89,31,80,29,"getAlbumsAsync"],[89,45,80,43],[89,46,80,44],[89,47,80,45],[90,8,81,4],[90,12,81,8,"album"],[90,17,81,13],[90,20,81,16,"albums"],[90,26,81,22],[90,27,81,23,"find"],[90,31,81,27],[90,32,81,28,"a"],[90,33,81,29],[90,37,81,33,"a"],[90,38,81,34],[90,39,81,35,"title"],[90,44,81,40],[90,49,81,45,"albumName"],[90,58,81,54],[90,59,81,55],[91,8,83,4],[91,12,83,8],[91,13,83,9,"album"],[91,18,83,14],[91,20,83,16],[92,10,84,6,"album"],[92,15,84,11],[92,24,84,20,"lib"],[92,27,84,23],[92,28,84,24,"createAlbumAsync"],[92,44,84,40],[92,45,84,41,"albumName"],[92,54,84,50],[92,56,84,52,"asset"],[92,61,84,57],[92,63,84,59],[92,68,84,64],[92,69,84,65],[93,8,85,4],[93,9,85,5],[93,15,85,11],[94,10,86,6],[94,16,86,12,"lib"],[94,19,86,15],[94,20,86,16,"addAssetsToAlbumAsync"],[94,41,86,37],[94,42,86,38],[94,43,86,39,"asset"],[94,48,86,44],[94,49,86,45],[94,51,86,47,"album"],[94,56,86,52],[94,58,86,54],[94,63,86,59],[94,64,86,60],[95,8,87,4],[96,8,89,4],[96,15,89,11],[96,19,89,15],[97,6,90,2],[97,7,90,3],[97,8,90,4],[97,15,90,11,"e"],[97,16,90,12],[97,18,90,14],[98,8,91,4,"console"],[98,15,91,11],[98,16,91,12,"error"],[98,21,91,17],[98,22,91,18],[98,53,91,49],[98,55,91,51,"e"],[98,56,91,52],[98,57,91,53],[99,8,92,4],[99,15,92,11],[99,20,92,16],[100,6,93,2],[101,4,94,0],[101,5,94,1],[102,4,94,1],[102,20,68,13,"saveToMediaLibrary"],[102,38,68,31,"saveToMediaLibrary"],[102,39,68,31,"_x"],[102,41,68,31],[103,6,68,31],[103,13,68,31,"_ref2"],[103,18,68,31],[103,19,68,31,"apply"],[103,24,68,31],[103,31,68,31,"arguments"],[103,40,68,31],[104,4,68,31],[105,2,68,31],[105,5,94,1],[106,0,94,2],[106,3]],"functionMap":{"names":["<global>","getMediaLibrary","isMediaLibraryAvailable","requestMediaPermissions","saveToMediaLibrary","albums.find$argument_0"],"mappings":"AAA;+BCiC;CDe;uCEE;CFE;uCGG;CHU;kCIE;4BCa,0BD;CJa"},"hasCjsExports":false},"type":"js/module"}]}